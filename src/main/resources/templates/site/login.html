<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title> - 登录</title>
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="shortcut icon" href="#">
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/font-awesome.css}" rel="stylesheet">
    <link th:href="@{/css/bootstrap-theme.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/animate.css}" rel="stylesheet">
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <!--[if lt IE 9]>
    <meta http-equiv="refresh" content="0;ie.html"/>
    <![endif]-->
    <script>if (window.top !== window.self) {
        window.top.location = window.location;
    }</script>
</head>

<body class="gray-bg">
<header class="navbar navbar-default" th:replace="index::header"/>

<div class="middle-box text-center loginscreen  animated fadeInDown">
    <div>
        <div>

            <h1 class="logo-name">Eu</h1>

        </div>
        <h3>欢迎使用本论坛</h3>

        <form class="m-t" role="form" th:action="@{/login}" method="post">
            <div class="form-group">
                <input type="text" th:class="|form-control ${usernameMsg!=null?'is-invalid':''}|"
                       name="username" id="username" th:value="${param.username}"
                       placeholder="用户名" required="">
                <div style="color:#F00 " th:text="${usernameMsg}">
                    该账号不存在!
                </div>
            </div>
            <div class="form-group">
                <input type="password" class="form-control" name="password"
                       th:class="|form-control ${passwordMsg!=null?'is-invalid':''}|"
                       th:value="${param.password}" placeholder="密码" required="">
                <div style="color:#F00" th:text="${passwordMsg}">
                    密码长度不能小于8位!
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-6">
                    <input type="text" class="form-control" id="verifycode" name="code"
                           th:class="|form-control ${codeMsg!=null?'is-invalid':''}|"
                           placeholder="请输入验证码!">
                    <div  style="color:#F00" th:text="${codeMsg}">
                        验证码不正确!1111111
                    </div>
                </div>
                <div class="col-sm-4">
                    <img id="kaptcha" th:src="@{/kaptcha}"
                         style="width:100px;height:40px;" class="mr-2"/>
                    <a href="javascript:refresh_kaptcha();" class="font-size-12 align-bottom">刷新验证码</a>
                </div>
            </div>
            <button type="submit" class="btn btn-primary block full-width m-b">
                登 录</button>


            <p class="text-muted text-center">
                <input type="checkbox" id="remember-me" name="rememberme"
                       th:checked="${param.rememberme}">
                <label class="form-check-label" for="remember-me">记住我</label>|
               <a th:href="@{register}">注册一个新账号</a>
            </p>

        </form>
    </div>
</div>
<script>
    function refresh_kaptcha() {
        var CONTEXT_PATH = "/community";
        var path = CONTEXT_PATH + "/kaptcha?p=" + Math.random();
        $("#kaptcha").attr("src", path);
    }

</script>
<!-- 全局js -->
<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>


</body>

</html>
